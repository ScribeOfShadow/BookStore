@model IEnumerable<BookStore.Models.ChatBox>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}

<style>
    h2 {
        padding-top: 60px;
    }

    p {
        height: 2.0rem;
        width: fit-content;
        padding: 0 1rem;
        border-radius: 0.9rem;
        background: linear-gradient( -45deg, #8a8787, #0d0d0d, #262626 );
        background-size: 400%;
        background-position: 90% 0;
        color: #ffffff;
        transition: background 0.8s;
        border: hidden;
    }

        p:hover {
            background-position: 185% 50%;
        }

        p:hover, .dropbtn:focus {
            background-color: #cbf207;
        }

    table {
        border-block: 10px solid azure;
    }

    tr {
        background-color: #000 !important;
        border-radius: 25px !important;
        padding: 20px !important;
        opacity: 0.9 !important;
    }

    th {
        height: 4.5rem;
        width: fit-content;
        padding: 0 1rem;
        border-radius: 0.375rem;
        background: #000 !important;
        color: #ffffff;
        box-shadow: 0 0.4rem 0 0 #4e4d52;
        letter-spacing: 3px;
        transition: all 0.3s;
        margin-top: 0px;
        opacity: 0.9 !important;
    }
    a {
        color: azure;
    }

        a:hover {
            color: darkred;
        }

        a:link {
            color: azure;
        }
    a2 {
        height: 2.0rem;
        width: fit-content;
        padding: 0 1rem;
        border-radius: 0.9rem;
        background: linear-gradient( -45deg, #8a8787, #0d0d0d, #262626 );
        background-size: 400%;
        background-position: 90% 0;
        color: #ffffff;
        transition: background 0.8s;
        border: hidden;
    }

    td {
        color: azure;
        font-size: 15px;
        background-color: #000 !important;
        padding: 5px;
        opacity: 0.9 !important;
    }
</style>

@using Microsoft.AspNet.Identity
@using Microsoft.AspNet.Identity
@using BookStore.Models
@if (Request.IsAuthenticated)
{
    @Html.AntiForgeryToken()

    if (Request.IsAuthenticated && User.IsInRole("Teacher"))
    {

        <h2 class="AddLinkTab" style="margin-top:80px;">Announcements</h2>

        <p>
            @Html.ActionLink("Create New", "Create")
        </p>
        <table>

            @foreach (var item in Model)
            {
                <tr>
                    <td style="font-size:12px; padding-bottom:3rem">
                        @Html.DisplayFor(modelItem => item.Subject)
                    </td>

                    <td style="font-size:20px">
                        @Html.DisplayFor(modelItem => item.ChatPost)
                    </td>
                    <td style="font-size:9px; padding-top:4rem">
                        @Html.DisplayFor(modelItem => item.Posted_Date)
                    </td>
                    <td>
                        @Html.ActionLink("Delete", "Delete", new { id = item.Chat_Id }, new { @class = "glyphicon glyphicon-trash" })
                    </td>
                </tr>
            }

        </table>
    }

    else if (Request.IsAuthenticated && User.IsInRole("Student"))
    {

        <h2 class="AddLinkTab" style="margin-top:80px;">Announcements</h2>

        <div class="square">
            <table>

                @foreach (var item in Model)
                {
                    <tr>
                        <td style="font-size:12px; padding-bottom:3rem">
                            @Html.DisplayFor(modelItem => item.Subject)
                        </td>

                        <td style="font-size:20px">
                            @Html.DisplayFor(modelItem => item.ChatPost)
                        </td>
                        <td style="font-size:9px; padding-top:4rem">
                            @Html.DisplayFor(modelItem => item.Posted_Date)
                        </td>
                    </tr>
                }

            </table>
        </div>
    }

    else if ((Request.IsAuthenticated && User.IsInRole("Student")))
    {

        <h2 class="AddLinkTab" style="margin-top:80px;">Announcements</h2>

        <p>
            @Html.ActionLink("Create New", "Create")
        </p>

        <table>

            @foreach (var item in Model)
            {
                <tr>
                    <td style="font-size:12px; padding-bottom:3rem">
                        @Html.DisplayFor(modelItem => item.Subject)
                    </td>

                    <td style="font-size:20px">
                        @Html.DisplayFor(modelItem => item.ChatPost)
                    </td>
                    <td style="font-size:9px; padding-top:4rem">
                        @Html.DisplayFor(modelItem => item.Posted_Date)
                    </td>
                    <td>
                        @Html.ActionLink("Delete", "Delete", new { id = item.Chat_Id }, new { @class = "glyphicon glyphicon-trash" })
                    </td>
                </tr>
            }

        </table>

    }
}